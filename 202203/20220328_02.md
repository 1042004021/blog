## PostgreSQL 15 preview - SQL/JSON 标准构造器增强     
                
### 作者                        
digoal                        
                        
### 日期                        
2022-03-28                       
                        
### 标签                        
PostgreSQL , JSON , SQL/JSON    
                        
----                        
                        
## 背景     
新增了几个json构造函数.    
  
https://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=f79b803dcc98d707450e158db3638dc67ff8380b  
  
https://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=f4fb45d15c59d7add2e1b81a9d477d0119a9691a  
  
```  
SQL/JSON constructors  
author	Andrew Dunstan <andrew@dunslane.net>	  
Thu, 3 Mar 2022 18:02:10 +0000 (13:02 -0500)  
committer	Andrew Dunstan <andrew@dunslane.net>	  
Sun, 27 Mar 2022 21:03:34 +0000 (17:03 -0400)  
commit	f4fb45d15c59d7add2e1b81a9d477d0119a9691a  
tree	9025afb61fd4409ae48cd21d47c7fd58647e2633	tree  
parent	f79b803dcc98d707450e158db3638dc67ff8380b	commit | diff  
SQL/JSON constructors  
  
This patch introduces the SQL/JSON standard constructors for JSON:  
  
JSON()  
JSON_ARRAY()  
JSON_ARRAYAGG()  
JSON_OBJECT()  
JSON_OBJECTAGG()  
  
For the most part these functions provide facilities that mimic  
existing json/jsonb functions. However, they also offer some useful  
additional functionality. In addition to text input, the JSON() function  
accepts bytea input, which it will decode and constuct a json value from.  
The other functions provide useful options for handling duplicate keys  
and null values.  
  
This series of patches will be followed by a consolidated documentation  
patch.  
  
Nikita Glukhov  
  
Reviewers have included (in no particular order) Andres Freund, Alexander  
Korotkov, Pavel Stehule, Andrew Alsup, Erik Rijkers, Zihong Yu,  
Himanshu Upadhyaya, Daniel Gustafsson, Justin Pryzby.  
  
Discussion: https://postgr.es/m/cd0bb935-0158-78a7-08b5-904886deac4b@postgrespro.ru  
```  
  
使用举例:   
https://git.postgresql.org/gitweb/?p=postgresql.git;a=blob;f=src/test/regress/expected/sqljson.out;h=7dca5a8a30f408ebbde215b37ef511c0823222f1;hb=f4fb45d15c59d7add2e1b81a9d477d0119a9691a   
  
  
    
  
#### [期望 PostgreSQL 增加什么功能?](https://github.com/digoal/blog/issues/76 "269ac3d1c492e938c0191101c7238216")
  
  
#### [PolarDB for PostgreSQL云原生分布式开源数据库](https://github.com/ApsaraDB/PolarDB-for-PostgreSQL "57258f76c37864c6e6d23383d05714ea")
  
  
#### [PostgreSQL 解决方案集合](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
  
  
#### [德哥 / digoal's github - 公益是一辈子的事.](https://github.com/digoal/blog/blob/master/README.md "22709685feb7cab07d30f30387f0a9ae")
  
  
![digoal's wechat](../pic/digoal_weixin.jpg "f7ad92eeba24523fd47a6e1a0e691b59")
  
