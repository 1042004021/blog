## PostgreSQL pgloggingfilter csvlog log 日志过滤器   
                            
### 作者                             
digoal                            
                            
### 日期                                                        
2020-03-26                             
                            
### 标签                                                              
PostgreSQL , pgloggingfilter , 日志过滤       
                            
----                             
                            
## 背景       
根据日志等级, 错误代码过滤日志打印. 用处挺多, 例如你不想打印一些业务代码的错误, 比如pk冲突, 约束冲突等.             
  
pgloggingfilter  
===============  
  
pgloggingfilter is a filter module for PostgreSQL logging.  It can be used  
to suppress logging of various expected errors which is especially useful in  
cases where users are allowed to call stored procedures with potentially  
invalid arguments.  
  
To enable pgloggingfilter it needs to be included in postgresql.conf's  
shared_preload_libraries list after which control minimum error levels for  
logging per sqlstate using the two new GUCs, for example:  
  
  pgloggingfilter.log_min_messages_by_sqlstate = '22012:PANIC'  
  pgloggingfilter.log_min_error_statement_by_sqlstate = 'P0001:PANIC,23503:PANIC'  
  
would set the minimum error level for logging division by zero errors to  
PANIC essentially disabling their logging and also prevent statements  
causing PL/pgSQL 'RAISE EXCEPTION' and foreign key violations from being  
logged.  
  
Note that this module can only increase the minimum error level from the  
base values set with log_min_messages and log_min_error_statement - i.e.  
if statement logging is not globally enabled this module can't enable it  
for any SQLSTATEs.  
  
See http://www.postgresql.org/docs/devel/static/errcodes-appendix.html for  
the list of SQLSTATEs.  
  
This was originally proposed as a core feature, see  
https://commitfest.postgresql.org/action/patch_view?id=1360  
  
license  
=======  
  
pgloggingfilter is released under the Apache License, Version 2.0.  
  
For the exact license terms, see `LICENSE` and  
http://opensource.org/licenses/Apache-2.0 .  
  
contact  
=======  
  
pgloggingfilter is maintained by Ohmu Ltd hackers <opensource@ohmu.fi>, bug  
reports and patches are very welcome, please post them as GitHub issues and  
pull requests at https://github.com/ohmu/pgloggingfilter  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
#### [9.9元购买3个月阿里云RDS PostgreSQL实例](https://www.aliyun.com/database/postgresqlactivity "57258f76c37864c6e6d23383d05714ea")
  
  
#### [PostgreSQL 解决方案集合](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [1 任意维度实时圈人](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [2 时序数据实时处理](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [3 时间、空间、业务 多维数据实时透视](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [4 独立事件相关性分析](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [5 海量关系实时图式搜索](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [6 社交业务案例](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [7 流式数据实时处理案例](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [8 IoT 物联网, 时序](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [9 全文检索](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [10 模糊、正则 查询案例](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [11 图像识别](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [12 向量相似检索](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [13 数据清洗、采样、脱敏、批处理、合并](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [14 GIS 地理信息空间数据应用](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [15 金融业务](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [16 异步消息应用案例](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [17 海量数据 冷热分离](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [18 倒排索引案例](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
- [19 海量数据OLAP处理应用](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
  
  
#### [德哥 / digoal's 趣味入口 - 努力成为灯塔, 公益是一辈子的事.](https://github.com/digoal/blog/blob/master/README.md "22709685feb7cab07d30f30387f0a9ae")
  
  
![德哥的微信 / digoal's wechat](../pic/digoal_weixin.jpg "f7ad92eeba24523fd47a6e1a0e691b59")
  
